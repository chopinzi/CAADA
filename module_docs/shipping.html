

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Shipping package API &mdash; COVID Atmospheric Ancillary Data Agglomerator (CAADA)  documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Streetlight package API" href="streetlight.html" />
    <link rel="prev" title="OpenSky package API" href="opensky.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> COVID Atmospheric Ancillary Data Agglomerator (CAADA)
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ca_pems.html">CA PEMS package API</a></li>
<li class="toctree-l1"><a class="reference internal" href="eia.html">EIA package API</a></li>
<li class="toctree-l1"><a class="reference internal" href="opensky.html">OpenSky package API</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Shipping package API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#module-caada.shipping.readers">Module: readers</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-caada.shipping.web">Module: web</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="streetlight.html">Streetlight package API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">COVID Atmospheric Ancillary Data Agglomerator (CAADA)</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Shipping package API</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/module_docs/shipping.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="shipping-package-api">
<h1>Shipping package API<a class="headerlink" href="#shipping-package-api" title="Permalink to this headline">¶</a></h1>
<p>This package focuses on retrieving data about import and export activity at major US ports. Currently, it supports
retrieving data for the Port of LA and Port of Oakland. Unlike many of the other packages, this is mainly centered
around web scraping to gather data for these ports, rather than reading local files. These functions are found in the
<a class="reference internal" href="#web">web</a> module.</p>
<div class="section" id="module-caada.shipping.readers">
<span id="module-readers"></span><h2>Module: readers<a class="headerlink" href="#module-caada.shipping.readers" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="caada.shipping.readers.parse_oakland_excel">
<code class="sig-prename descclassname">caada.shipping.readers.</code><code class="sig-name descname">parse_oakland_excel</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">excel_file</span><span class="p">:</span> <span class="n">Union<span class="p">[</span>bytes<span class="p">, </span>str<span class="p">, </span>pathlib.Path<span class="p">]</span></span></em>, <em class="sig-param"><span class="n">is_contents</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#caada.shipping.readers.parse_oakland_excel" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an Excel sheet with container moves from the Port of Oakland</p>
<p>This parses the Excel file found on the <a class="reference external" href="https://www.oaklandseaport.com/performance/facts-figures/">Port of Oakland page</a>
(as of 2020-09-04). You can use this if you’ve downloaded that file manually, but it is automatically downloaded
by <a class="reference internal" href="#caada.shipping.web.get_oakland_container_data" title="caada.shipping.web.get_oakland_container_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_oakland_container_data()</span></code></a> and parsed with this function, so you usually do not
need to do so.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>excel_file</strong> – The path to the Excel file; alternatively, the binary content of the file (must set <cite>is_contents</cite> to <cite>True</cite>).</p></li>
<li><p><strong>is_contents</strong> – Whether the value of <cite>excel_file</cite> is a path to a file to open (<cite>is_contents = False</cite>, default), or the actual
contents of the file (<cite>True</cite>).</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The monthly container moves as a Pandas Dataframe. Some rows may have NaNs if they were included in the Excel
workbook but did not have any moves listed.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-caada.shipping.web">
<span id="module-web"></span><span id="web"></span><h2>Module: web<a class="headerlink" href="#module-caada.shipping.web" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="caada.shipping.web.get_all_la_port_container_data">
<code class="sig-prename descclassname">caada.shipping.web.</code><code class="sig-name descname">get_all_la_port_container_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">index</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'datetime'</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#caada.shipping.web.get_all_la_port_container_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Port of LA container data for all years from 1995 to present.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>index</strong> – How to index the dataframe. See the <cite>index</cite> parameter in <a class="reference internal" href="#caada.shipping.web.get_la_port_container_data" title="caada.shipping.web.get_la_port_container_data"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_la_port_container_data()</span></code></a> for details.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataframe containing data for all years. Will be container moves broken down by import vs. export and
empty vs. full.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="caada.shipping.web.get_la_port_container_data">
<code class="sig-prename descclassname">caada.shipping.web.</code><code class="sig-name descname">get_la_port_container_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">year</span><span class="p">:</span> <span class="n">int</span></em>, <em class="sig-param"><span class="n">index</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'datetime'</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#caada.shipping.web.get_la_port_container_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Get Port of LA container data for a given year, return as a dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>year</strong> – The year to get data for. The Port of LA keeps monthly data for 1995 and on; years before 1995 will likely
fail.</p></li>
<li><p><strong>index</strong> – How to index the returned dataframe. <cite>“datetime”</cite> (the default) will create a datetime index; it will also
remove the year total rows. <cite>“table”</cite> will keep the table’s original index (as strings) and will retain the
year summary rows.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataframe containing the data for the requested year. Will be container moves broken down by import vs. export
and empty vs. full.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="caada.shipping.web.get_oakland_container_data">
<code class="sig-prename descclassname">caada.shipping.web.</code><code class="sig-name descname">get_oakland_container_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">url</span><span class="p">:</span> <span class="n">str</span> <span class="o">=</span> <span class="default_value">'https://www.oaklandseaport.com/performance/facts-figures/'</span></em><span class="sig-paren">)</span> &#x2192; pandas.core.frame.DataFrame<a class="headerlink" href="#caada.shipping.web.get_oakland_container_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Download the full record of Oakland container data</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>url</strong> – The URL to retrieve from. Usually does not need to change.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A dataframe containing the historical data (extracted from their Excel sheet) and this years data (extracted
directly from the web page).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This will actually fetch the data from the Port of Oakland webpage. It is best to fetch this data once and reuse
the returned dataframe, rather than requesting it repeatedly.</p>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="streetlight.html" class="btn btn-neutral float-right" title="Streetlight package API" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="opensky.html" class="btn btn-neutral float-left" title="OpenSky package API" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Joshua Laughner

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>